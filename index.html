<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quick Quiz</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height: 1.5; margin: 0; padding: 24px; background: #f6f7fb; }
    .card { max-width: 820px; margin: 0 auto; background: #fff; border-radius: 14px; padding: 20px; box-shadow: 0 8px 24px rgba(0,0,0,.08); }
    h1 { font-size: 20px; margin: 0 0 12px; }
    .text { background: #f2f4ff; border-radius: 12px; padding: 14px; margin: 12px 0 18px; }
    .muted { color: #555; font-size: 14px; margin: 0 0 10px; }
    .q { margin: 14px 0; }
    .choices { display: grid; gap: 10px; margin: 10px 0 14px; }
    .choice {
      display: block; text-align: left; width: 100%;
      border: 1px solid #d7dbe7; background: #fff; padding: 12px;
      border-radius: 12px; cursor: pointer; font-size: 15px;
    }
    .choice:hover { background: #f8f9ff; }
    .feedback {
      display: inline-block; padding: 8px 12px; border-radius: 999px;
      font-weight: 600; margin-top: 6px; border: 1px solid #d7dbe7;
    }
    .row { display: flex; justify-content: space-between; align-items: center; margin-top: 12px; }
    .btn {
      border: 0; background: #2f5cff; color: white; padding: 10px 14px;
      border-radius: 12px; cursor: pointer; font-weight: 650;
    }
    .btn.secondary { background: #e9ecf7; color: #111; }
    .hidden { display: none; }
    .results { text-align: center; padding: 18px 0 6px; }
    .score { font-size: 28px; font-weight: 800; margin: 8px 0; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Historical Roots of Present Inequality — Quiz</h1>

    <div class="text">
      Colonial economic structures created lasting inequalities that still exist today. 
      The encomienda system evolved into hacienda systems where land became concentrated 
      in few hands—this pattern persists today in political dynasties. When you meet 
      abandoned street children, you're seeing the end result of centuries where wealth 
      consolidation made social mobility nearly impossible for certain families. 
      The American period's focus on English education created a two-level system 
      that still determines who gets opportunities.
    </div>

    <div id="quiz"></div>

    <div id="results" class="hidden">
      <div class="results">
        <div class="score" id="scoreText"></div>
      </div>
      <div class="row" style="justify-content:center;">
        <button class="btn" onclick="resetQuiz()">Try Again</button>
      </div>
    </div>
  </div>

<script>
const questions = [
  {
    prompt: "According to the text, what is one main reason inequality continues today?",
    choices: [
      "Tourism became the main source of wealth",
      "Colonial economic structures created long-lasting patterns of inequality",
      "Natural disasters made the economy unstable",
      "Modern technology replaced traditional jobs"
    ],
    correctIndex: 1
  },
  {
    prompt: "What did the encomienda system evolve into?",
    choices: [
      "A nationwide welfare program",
      "A public school system",
      "Hacienda systems where land was concentrated in a few hands",
      "Equal land distribution policies"
    ],
    correctIndex: 2
  },
  {
    prompt: "Abandoned street children are described as:",
    choices: [
      "The end result of centuries of wealth consolidation limiting mobility",
      "A recent problem caused only by inflation",
      "A result of technological unemployment",
      "Evidence of improved social mobility"
    ],
    correctIndex: 0
  },
  {
    prompt: "What lasting effect came from the American period’s focus on English education?",
    choices: [
      "It ended political dynasties",
      "It created a two-level system that still influences opportunities",
      "It equalized social classes",
      "It redistributed land ownership"
    ],
    correctIndex: 1
  }
];

let current = 0;
let score = 0;

function renderQuestion() {
  const q = questions[current];
  document.getElementById("quiz").innerHTML = `
    <div class="q">
      <h3>Question ${current + 1} of ${questions.length}</h3>
      <p>${q.prompt}</p>
      <div class="choices">
        ${q.choices.map((choice, index) => `
          <button class="choice" onclick="checkAnswer(${index})">${choice}</button>
        `).join("")}
      </div>
      <div id="feedback" class="feedback hidden"></div>
      <div class="row">
        <button class="btn secondary" id="nextBtn" onclick="nextQuestion()" disabled>Next</button>
      </div>
    </div>
  `;
}

function checkAnswer(index) {
  const q = questions[current];
  const feedback = document.getElementById("feedback");
  const nextBtn = document.getElementById("nextBtn");

  document.querySelectorAll(".choice").forEach(btn => btn.disabled = true);

  if (index === q.correctIndex) {
    feedback.textContent = "Correct.";
    score++;
  } else {
    feedback.textContent = "Incorrect.";
  }

  feedback.classList.remove("hidden");
  nextBtn.disabled = false;
}

function nextQuestion() {
  current++;
  if (current < questions.length) {
    renderQuestion();
  } else {
    showResults();
  }
}

function showResults() {
  document.getElementById("quiz").classList.add("hidden");
  document.getElementById("results").classList.remove("hidden");
  document.getElementById("scoreText").textContent = score + "/" + questions.length + " right";
}

function resetQuiz() {
  current = 0;
  score = 0;
  document.getElementById("quiz").classList.remove("hidden");
  document.getElementById("results").classList.add("hidden");
  renderQuestion();
}

renderQuestion();
</script>
</body>
</html>
